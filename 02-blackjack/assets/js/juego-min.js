const moduloJuego=(()=>{"use strict";let e=[];const t=["C","D","H","S"],r=["A","J","Q","K"];let n=[],o="";const l=document.querySelector("#btnPedir"),s=document.querySelector("#btnDetener"),a=document.querySelector("#btnNuevo"),c=document.querySelectorAll("small"),d=document.querySelectorAll(".divCartas"),u=(t=2)=>{e=i(),n=[];for(let e=0;e<t;e++)n.push(0);c.forEach(e=>e.innerText="0"),document.querySelectorAll(".carta").forEach(e=>e.remove()),l.disabled=!1,s.disabled=!1},i=()=>{e=[];for(let r=2;r<=10;r++)for(let n of t)e.push(r+n);for(let n of t)for(const t of r)e.push(t+n);return _.shuffle(e)},m=()=>{if(0===e.length)throw"No hay cartas en el deck";return e.shift()},f=(e,t)=>(n[t]+=(e=>{const t=e.substring(0,e.length-1);return"A"===t?11:isNaN(t)?10:1*t})(e),c[t].innerText=n[t],n[t]),h=(e,t)=>{const r=document.createElement("img");r.className="carta",r.src=`assets/cartas/${e}.png`,d[t].append(r)},b=e=>{let t=0;do{const r=m();if(console.warn(n.length),t=f(r,n.length-1),h(r,n.length-1),e>21){o="Computadora gana :(";break}}while(t<e&&e<=21);setTimeout(()=>{t===e?o="Empate D:":t>e&&(o="Ganaste"),alert(o)},30)};return l.addEventListener("click",()=>{const e=m(),t=f(e,0);h(e,0),t>21?(l.disabled=!0,s.disabled=!0,b(t)):21===t&&(l.disabled=!0,s.disabled=!0,b(t))}),s.addEventListener("click",()=>{n[0]>0&&(s.disabled=!0,l.disabled=!0,b(n[0]))}),a.addEventListener("click",()=>{u()}),{nuevoJueego:u}})();
